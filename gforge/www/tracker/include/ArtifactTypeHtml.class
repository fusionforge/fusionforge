<?php
/**
  *
  * SourceForge Generic Tracker facility
  *
  * SourceForge: Breaking Down the Barriers to Open Source Development
  * Copyright 1999-2001 (c) VA Linux Systems
  * http://sourceforge.net
  *
  * @version   $Id$
  *
  */


require_once('common/tracker/ArtifactType.class');

class ArtifactTypeHtml extends ArtifactType {

	/**
	 *  ArtifactType() - constructor
	 *
	 *  @param $Group object
	 *  @param $artifact_type_id - the id # assigned to this artifact type in the db
	 */
	function ArtifactTypeHtml(&$Group,$artifact_type_id=false, $arr=false) {
		return $this->ArtifactType($Group,$artifact_type_id,$arr);
	}

	function header($params) {
		global $DOCUMENT_ROOT;

		$group_id= $this->Group->getID();

		//required by new site_project_header
		$params['group']=$group_id;
		$params['toptab']='tracker';
		$params['tabtext']=$this->getName();

		site_project_header($params);
		echo '<h3>Tracker: <a href="/tracker/?group_id='.$group_id.'&atid='.$this->getID().'">'.$this->getName().'</a></h3><p>';

		echo '<strong><a href="/tracker/?func=add&group_id='.$group_id.'&atid='. $this->getID() .'">Submit New</a>';
		echo ' | <a href="/tracker/?func=browse&group_id='.$group_id.'&atid='. $this->getID() .'">Browse</a>';
		if (session_loggedin()) {
			echo ' | <a href="/tracker/reporting/?group_id='.$group_id.'&atid='. $this->getID() .'">Reporting</a>';
		}
		echo ' | <a href="/tracker/admin/?group_id='.$group_id.'">Admin</a>';

		echo '</strong><p>';
		//echo '<HR NoShade SIZE="1" SIZE="90%">';
	}

	function footer($params) {
		site_project_footer($params);
	}

	function adminHeader($params) {
		echo $this->header($params);
		$group_id= $this->Group->getID();
		echo '<strong>Admin Functions: <a href="/tracker/admin/?group_id='.$group_id.'">Add/Browse Artifact Types</a>';
		echo ' | <a href="/tracker/admin/?group_id='.$group_id.'&atid='. $this->getID() .'">Edit/Update Options in: '. $this->getName() .'</a></strong>';
	}

	function categoryBox ($name='category_id',$checked='xzxz',$text_100='None') {
		return html_build_select_box ($this->getCategories(),$name,$checked,true,$text_100);
	}

	function artifactGroupBox ($name='artifact_group_id',$checked='xzxz',$text_100='None') {
		return html_build_select_box ($this->getGroups(),$name,$checked,true,$text_100);
	}

	function technicianBox ($name='assigned_to',$checked='xzxz',$show_100=true,$text_100='None') {
		return html_build_select_box ($this->getTechnicians(),$name,$checked,$show_100,$text_100);
	}

	function cannedResponseBox ($name='canned_response',$checked='xzxz') {
		return html_build_select_box ($this->getCannedResponses(),$name,$checked);
	}

	function statusBox ($name='status_id',$checked='xzxz',$show_100=false,$text_100='None') {
		return html_build_select_box($this->getStatuses(),$name,$checked,$show_100,$text_100);
	}

	function resolutionBox ($name='resolution_id',$checked='xzxz',$show_100=false,$text_100='None') {
		return html_build_select_box($this->getResolutions(),$name,$checked,$show_100,$text_100);
	}

}

?>
