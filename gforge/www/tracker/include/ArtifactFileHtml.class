<?php
/**
  *
  * SourceForge Generic Tracker facility
  *
  * SourceForge: Breaking Down the Barriers to Open Source Development
  * Copyright 1999-2001 (c) VA Linux Systems
  * http://sourceforge.net
  *
  * @version   $Id$
  *
  */


require_once('common/tracker/ArtifactFile.class');

class ArtifactFileHtml extends ArtifactFile {

	/**
	 *  ArtifactFileHtml() - constructor
	 *
	 *  Use this constructor if you are modifying an existing artifact
	 *
	 *	@param $Artifact object
	 *  @param $data associative array (all fields from artifact_file_user_vw) OR id from database
	 *  @return true/false
	 */
	function ArtifactFileHtml(&$Artifact, $data=false) {
		return $this->ArtifactFile($Artifact,$data); 
	}

	function upload($input_file,$description) {
		if (!util_check_fileupload($input_file)) {
			$this->setError('ArtifactFile: Invalid filename');
			return false;
		}
		$filename = $input_file['tmp_name'];
		$size = $input_file['size'];
		$input_data = fread(fopen($filename, 'r'), $size);
		return $this->create($input_file['name'],$input_file['type'],$size,$input_data,$description);
	}

}

?>
