<?php   
/**
 * Base theme class.
 *
 * SourceForge: Breaking Down the Barriers to Open Source Development
 * Copyright 1999-2001 (c) VA Linux Systems
 * http://sourceforge.net
 *
 * @version   $Id$
 */

class Theme extends Layout {

	/**
	 * Theme() - Constructor
	 */
	function Theme() {
		// Parent constructor
		$this->Layout();

		// The root location for images
		$this->imgroot = '/themes/debian/images/';
		$this->imgproj = '/themes/debian/images/proj/';

		// The content background color
		// sky blue
		$this->COLOR_CONTENT_BACK= '#BBDDFF';
		//pink #C79FA9;

		// The background color
		$this->COLOR_BACK= '#FFFFFF';

		// The primary light background color
		// Alternate list
		$this->COLOR_LTBACK1= '#C79FA9';

		// The secondary light background color
		$this->COLOR_LTBACK2= '#C79FA9';

		// The HTML box title color
		// Red
		//$this->COLOR_HTMLBOX_TITLE = '#DF0451';
		$this->COLOR_HTMLBOX_TITLE = '#C70036';

		// The HTML box background color
		$this->COLOR_HTMLBOX_BACK = '#C79FA9';

		// Font Face Constants
		// The content font
		$this->FONT_CONTENT = 'Helvetica';
		// The HTML box title font
		$this->FONT_HTMLBOX_TITLE = 'Helvetica';
		// The HTML box title font color
		$this->FONTCOLOR_HTMLBOX_TITLE = '#C6BCBF';
		// The content font color
		$this->FONTCOLOR_CONTENT = '#000000';
		//The smaller font size
		$this->FONTSIZE_SMALLER='x-small';
		//The smallest font size
		$this->FONTSIZE_SMALLEST='xx-small';
		//The HTML box title font size
		$this->FONTSIZE_HTMLBOX_TITLE = 'small';

	}

	/**
	 *	header() - "steel theme" top of page
	 *
	 * @param	array	Header parameters array
	 */
	function header($params) {
		global $Language;

		if (!$params['title']) {
			$params['title'] = "GForge";
		} else {
			$params['title'] = "GForge: " . $params['title'];
		}
		?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">

<html lang="<?php echo $Language->getLanguageCode(); ?>">
  <head>
	<meta http-equiv="Content-Type" content="text/html; charset=<?php echo $Language->getEncoding(); ?>">
	<TITLE><?php echo $params['title']; ?></TITLE>
	<SCRIPT language="JavaScript">
	<!--
	function help_window(helpurl) {
		HelpWin = window.open( '<?php echo ((session_issecure()) ? 'https://'.
			$GLOBALS['sys_default_domain'] : 'http://'.$GLOBALS['sys_default_domain']); ?>' + helpurl,'HelpWindow','scrollbars=yes,resizable=yes,toolbar=no,height=400,width=400');
	}
	// -->
	</SCRIPT>
<?php
/*



	WARNING - changing this font call can affect
	INTERNATIONALIZATION


*/


		//gets font from Language Object
		$site_fonts=$GLOBALS['Language']->getFont();

	?>

<style type="text/css">
	<!--
	OL,UL,P,BODY,TD,TR,TH,FORM { font-family: <?php echo $site_fonts; ?>; font-size:<?php echo $this->FONTSIZE; ?>; color: <?php echo $this->FONTCOLOR_CONTENT ?>; }

	H1 { font-size: x-large; font-family: <?php echo $site_fonts; ?>; }
	H2 { font-size: large; font-family: <?php echo $site_fonts; ?>; }
	H3 { font-size: medium; font-family: <?php echo $site_fonts; ?>; }
	H4 { font-size: small; font-family: <?php echo $site_fonts; ?>; }
	H5 { font-size: x-small; font-family: <?php echo $site_fonts; ?>; }
	H6 { font-size: xx-small; font-family: <?php echo $site_fonts; ?>; }

	PRE,TT { font-family: courier,sans-serif }

	A:link { text-decoration:none }
	A:visited { text-decoration:none }
	A:active { text-decoration:none }
	A:hover { text-decoration:underline; color:#FF0000 }

	.titlebar { color: #000000; text-decoration: none; font-weight: bold; }
	A.tablink { color: #000000; text-decoration: none; font-weight: bold; font-size: <?php echo $this->FONTSIZE_SMALLER; ?>; }
	A.tablink:visited { color: #000000; text-decoration: none; font-weight: bold; font-size: <?php
		echo $this->FONTSIZE_SMALLER; ?>; }
	A.tablink:hover { text-decoration: none; color: #000000; font-weight: bold; font-size: <?php
		echo $this->FONTSIZE_SMALLER; ?>; }
	A.tabsellink { color: #000000; text-decoration: none; font-weight: bold; font-size: <?php
		echo $this->FONTSIZE_SMALLER; ?>; }
	A.tabsellink:visited { color: #000000; text-decoration: none; font-weight: bold; font-size: <?php
		echo $this->FONTSIZE_SMALLER; ?>; }
	A.tabsellink:hover { text-decoration: none; color: #000000; font-weight: bold; font-size: <?php
		echo $this->FONTSIZE_SMALLER; ?>; }
	-->
</style>

</head>

<BODY TOPMARGIN="3" MARGINHEIGHT="3" MARGINWIDTH="3" LEFTMARGIN="3" RIGHTMARGIN="3" bgcolor="<?php echo $this->COLOR_CONTENT_BACK; ?>">

<table border=0 width="100%" cellspacing="0" cellpadding=0>

	<tr>
		<td><a href="/"><?php echo html_image('logo.png',275,75,array('border'=>'0')); ?></a></td>
		<td><?php echo $this->searchBox(); ?></td>
		<td align="RIGHT"><?php
			if (session_loggedin()) {
				?>
				<a href="/account/logout.php">Logout</a><br />
				<a href="/account/">My Account</a>
				<?php
			} else {
				?>
				<a href="/account/login.php">Login</a><br />
				<a href="/account/register.php">New Account</a>
				<?php
			}

		?></td>
		<td>&nbsp;&nbsp;</td>
	</tr>

</TABLE>

<table border=0 width="100%" cellspacing="0" cellpadding=0>

	<tr>
		<td>&nbsp;</td>
		<td colspan=3>

<?php echo $this->outerTabs($params); ?>

		</td>
		<td>&nbsp;</td>
	</tr>

	<tr>
		<td align=LEFT bgcolor="<?php echo $this->COLOR_CONTENT_BACK; ?>" width=10><img src="<?php echo $this->imgroot; ?>tabs/topleft.png" height=9 width=9></td>
		<td bgcolor="<?php echo $this->COLOR_CONTENT_BACK; ?>" width=30><img src="<?php echo $this->imgroot; ?>clear.png" width=30 height=1></td>
		<td bgcolor="<?php echo $this->COLOR_CONTENT_BACK; ?>"><img src="<?php echo $this->imgroot; ?>clear.png" width=1 height=1></td>
		<td bgcolor="<?php echo $this->COLOR_CONTENT_BACK; ?>" width=30><img src="<?php echo $this->imgroot; ?>clear.png" width=30 height=1></td>
		<td align=RIGHT bgcolor="<?php echo $this->COLOR_CONTENT_BACK; ?>" width=10><img src="<?php echo $this->imgroot; ?>tabs/topright.png" height=9 width=9></td>
	</tr>

	<tr>

		<!-- Outer body row -->

		<td bgcolor="<?php echo $this->COLOR_CONTENT_BACK; ?>"><img src="<?php echo $this->imgroot; ?>clear.png" width=10 height=1></td>
		<td valign=TOP width="99%" bgcolor="<?php echo $this->COLOR_CONTENT_BACK; ?>" colspan=3>

			<!-- Inner Tabs / Shell -->

			<table border=0 width="100%" cellspacing="0" cellpadding=0>
<?php


if ($params['group']) {

			?>
			<tr>
				<td>&nbsp;</td>
				<td>
				<?php

				echo $this->projectTabs($params['toptab'],$params['group']);

				?>
				</td>
				<td>&nbsp;</td>
			</tr>
			<?php

}

?>
			<tr>
				<td align=LEFT bgcolor="#FFFFFF" width=10><img src="<?php echo $this->imgroot; ?>tabs/topleft-inner.png" height=9 width=9></td>
				<td bgcolor=WHITE><img src="<?php echo $this->imgroot; ?>clear.png" width=1 height=1></td>
				<td align=RIGHT bgcolor="#FFFFFF" width=10><img src="<?php echo $this->imgroot; ?>tabs/topright-inner.png" height=9 width=9></td>
			</tr>

			<tr>
				<td bgcolor=WHITE><img src="<?php echo $this->imgroot; ?>clear.png" width=10 height=1></td>
				<td valign=TOP width="99%" bgcolor="WHITE">

	<?php

/*

	if ($params['titlevals']) {
		$title =		$Language->getText($params['pagename'],'title',$params['titlevals']);
	} else {
		$title =		$Language->getText($params['pagename'],'title');
	}

	if ($params['sectionvals']) {
		$section =	  $Language->getText($params['pagename'],'section',$params['sectionvals']);
	} else {
		$section =	  $Language->getText($params['pagename'],'section');
	}

	if ($section) {
		print "<strong>$section</strong>\n";
	}

	if ($title) {
		   print "<h2>$title</h2>\n";
	}
*/
	}

	function footer($params) {

	?>

			<!-- end main body row -->


				</td>
				<td width=10 bgcolor="WHITE"><img src="<?php echo $this->imgroot; ?>clear.png" width=2 height=1></td>
			</tr>
			<tr>
				<td align=LEFT bgcolor="#E0E0E0" width=10"><img src="<?php echo $this->imgroot; ?>tabs/bottomleft-inner.png" height=11 width=11></td>
				<td bgcolor=WHITE><img src="<?php echo $this->imgroot; ?>clear.png" width="1" height=1></td>
				<td align=RIGHT bgcolor="#E0E0E0" width=10><img src="<?php echo $this->imgroot; ?>tabs/bottomright-inner.png" height=11 width=11></td>
			</tr>
			</TABLE>

		<!-- end inner body row -->

		</td>
		<td width=10 bgcolor="#E0E0E0"><img src="<?php echo $this->imgroot; ?>clear.png" width=2 height=1></td>
	</tr>
	<tr>
		<td align=LEFT bgcolor="#E0E0E0" width=10><img src="<?php echo $this->imgroot; ?>tabs/bottomleft.png" height=9 width=9></td>
		<td bgcolor="#E0E0E0" colspan=3><img src="<?php echo $this->imgroot; ?>clear.png" width="1" height=1></td>
		<td align=RIGHT bgcolor="#E0E0E0" width=10><img src="<?php echo $this->imgroot; ?>tabs/bottomright.png" height=9 width=9></td>
	</tr>
</TABLE>
</body>
</html>
<?php

	}


	/**
	 * boxTop() - Top HTML box
	 *
	 * @param   string  Box title
	 * @param   bool	Whether to echo or return the results
	 * @param   string  The box background color
	 */
	function boxTop($title) {
		return '
		<table cellspacing="0" cellpadding="1" width="100%" border="0" bgcolor="' .$this->COLOR_HTMLBOX_TITLE.'">
		<tr><td>
			<table cellspacing="0" cellpadding="2" width="100%" border="0" bgcolor="'. $this->COLOR_HTMLBOX_BACK.'">
				<tr bgcolor="'.$this->COLOR_HTMLBOX_TITLE.'" align="center">
					<td colspan=2><SPAN class=titlebar>'.$title.'</SPAN></td>
				</tr>
				<tr align=left>
					<td colspan=2>';
	}

	/**
	 * boxMiddle() - Middle HTML box
	 *
	 * @param   string  Box title
	 * @param   string  The box background color
	 */
	function boxMiddle($title) {
		return '
					</td>
				</tr>
				<tr bgcolor="'.$this->COLOR_HTMLBOX_TITLE.'" align="center">
					<td colspan=2><SPAN class=titlebar>'.$title.'</SPAN></td>
				</tr>
				<tr align=left bgcolor="'. $this->COLOR_HTMLBOX_BACK .'">
					<td colspan=2>';
	}

	/**
	 * boxGetAltRowStyle() - Get an alternating row style for tables
	 *
	 * @param			   int			 Row number
	 */
	function boxGetAltRowStyle($i) {
		if ($i % 2 == 0) {
			return 'BGCOLOR="#FFFFFF"';
		} else {
			return 'BGCOLOR="' . $this->COLOR_LTBACK1 . '"';
		}
	}

	/**
	 * boxBottom() - Bottom HTML box
	 *
	 * @param   bool	Whether to echo or return the results
	 */
	function boxBottom() {
		return '
					</td>
				</tr>
			</TABLE>
		</td></tr>
		</TABLE><p>';
	}

}
?>
