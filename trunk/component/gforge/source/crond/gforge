#
# %FRIENDLY_NAME%
# Copyright 1999-2001 (c) VA Linux Systems
# Copyright 2002-2004 (c) GForge, LLC, Ognyan Kulev
# http://gforge.org/
#

# Change path to the %FRIENDLY_NAME% directory.
GFORGE="%DATADIR%/%NAME%"

# Change paths to the %FRIENDLY_NAME% directory.
# Don't reference $GFORGE because this won't work!
# You may need to change the pathname to php CLI (command line interface)
PHP="%BINDIR%/php -q -d include_path=%DATADIR%/%NAME%/override/:%DATADIR%/%NAME%/override/www/include/:.:%DATADIR%/%NAME%/:%DATADIR%/%NAME%/www/include/:%SYSCONFDIR%/%NAME%/"

# Don't mail command output to anyone.
MAILTO=""

#
# Recalculate user popularity metric
#
10 1 * * * root $PHP $GFORGE/cronjobs/calculate_user_metric.php >> %LOCALSTATEDIR%/log/%NAME%/cron 2>&1

#
# Daily project_weekly_metric recalc
#
12 1 * * * root $PHP $GFORGE/cronjobs/project_weekly_metric.php >> %LOCALSTATEDIR%/log/%NAME%/cron 2>&1

#
# Daily deletion of sessions, closing jobs, etc
#
15 1 * * * root $PHP $GFORGE/cronjobs/project_cleanup.php >> %LOCALSTATEDIR%/log/%NAME%/cron 2>&1

#
# Daily crunching of survey data and other associated ratings
#
41 1 * * * root $PHP $GFORGE/cronjobs/rating_stats.php >> %LOCALSTATEDIR%/log/%NAME%/cron 2>&1

#
# Daily crunching of project summary data (counts)
#
45 1 * * * root $PHP $GFORGE/cronjobs/db_project_sums.php >> %LOCALSTATEDIR%/log/%NAME%/cron 2>&1

#
# Daily recalculate of the sums under the trove map
#
50 1 * * * root $PHP $GFORGE/cronjobs/db_trove_maint.php >> %LOCALSTATEDIR%/log/%NAME%/cron 2>&1

#
# Daily close pending artifacts
#
57 1 * * * root $PHP $GFORGE/cronjobs/check_stale_tracker_items.php >> %LOCALSTATEDIR%/log/%NAME%/cron 2>&1

#
# VACUUM should be done after ALL OTHER JOBS
#
0 2 * * * root $PHP $GFORGE/cronjobs/vacuum.php >> %LOCALSTATEDIR%/log/%NAME%/cron 2>&1

#
# Stats aggregation work
#
15 7 * * * root $PHP $GFORGE/cronjobs/db_stats_agg.php >> %LOCALSTATEDIR%/log/%NAME%/cron 2>&1

#
# Daily rotation of the activity_log
#
0 0 * * * root $PHP $GFORGE/cronjobs/rotate_activity.php >> %LOCALSTATEDIR%/log/%NAME%/cron 2>&1

#
# Daily aggregating of the numbers
#
15 0 * * * root $PHP $GFORGE/cronjobs/site_stats.php >> %LOCALSTATEDIR%/log/%NAME%/cron 2>&1

#
# Hourly send pending massmailings, if any
#
47 * * * * root $PHP $GFORGE/cronjobs/massmail.php >> %LOCALSTATEDIR%/log/%NAME%/cron 2>&1

#
# Reporting Process
#
25 7 * * * root $PHP $GFORGE/cronjobs/reporting_cron.php >> %LOCALSTATEDIR%/log/%NAME%/cron 2>&1

#
# Create or update home directories of users and projects
#
10 * * * * root $PHP $GFORGE/cronjobs/create_home_dirs.php >> %LOCALSTATEDIR%/log/%NAME%/cron 2>&1

#
# Upload the SSH key files
#
15 * * * * root $PHP $GFORGE/cronjobs/ssh_create.php >> %LOCALSTATEDIR%/log/%NAME%/cron 2>&1

#
# Create the new mailing lists
#
06 * * * * root $PHP $GFORGE/cronjobs/mail/mailing_lists_create.php >> %LOCALSTATEDIR%/log/%NAME%/cron 2>&1

#
# Create the /etc/aliases file
#
08 * * * * root $PHP $GFORGE/cronjobs/mail/mailaliases.php >> %LOCALSTATEDIR%/log/%NAME%/cron 2>&1

#
# Send email to users with pending tasks
#
30 5 * * 1,2,3,4,5 root $PHP $GFORGE/cronjobs/daily_task_email.php >> %LOCALSTATEDIR%/log/%NAME%/cron 2>&1
