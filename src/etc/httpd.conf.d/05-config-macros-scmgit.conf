<Macro ScmgitProjectWithAnon $project>
<LocationMatch "^/anonscm/git/$project/">
  Require all granted
</LocationMatch>

<LocationMatch "^/authscm/[^/]+/git/$project/">
  Require valid-user
</LocationMatch>
</Macro>

<Macro ScmgitProjectWithoutAnon $project>
<LocationMatch "^/authscm/[^/]+/git/$project/">
  Require group scm_$project
</LocationMatch>

<LocationMatch "^/authscm/[^/]+/git/$project/.*/git-receive-pack$">
  AuthMerging And
  Require group scm_$project
</LocationMatch>
</Macro>

<Macro ScmgitUser $user>
<LocationMatch "^/authscm/$user/git/">
  Require user $user
</LocationMatch>

<LocationMatch "^/authscm/[^/]/git/[^/]users/$user/git-receive-pack$">
  AuthMerging And
  Require user $user
</LocationMatch>
</Macro>
