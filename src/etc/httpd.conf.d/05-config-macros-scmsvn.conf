<Macro ScmsvnProjectWithAnon $project>
<LocationMatch "^/svn/$project/">
  DAV svn
  SVNPath {scmsvn/repos_path}/$project
  # allow read-only browsing
  <LimitExcept GET PROPFIND OPTIONS REPORT>
  </LimitExcept>
</LocationMatch>

# Use ScmsvnProjectWithoutAnon $project
</Macro>

<Macro ScmsvnProjectWithoutAnon $project>
# <LocationMatch "^/authsvn/[^/]+/$project/">
#   DAV svn
#   SVNPath {scmsvn/repos_path}/$project
#   AuthzSVNAccessFile {core/data_path}/svnroot-access
# </LocationMatch>
</Macro>

<Macro ScmsvnUser $user>
<Location /authsvn/$user>
  DAV svn
  SVNParentPath {scmsvn/repos_path}

  # how to authenticate a user
  AuthzSVNAccessFile {core/data_path}/svnroot-access
  AuthType Basic
  AuthName "SCM for {core/forge_name}"
  AuthUserFile {core/data_path}/svnroot-authfile

  # only authenticated users may access the repository
  Require user $user
</Location>
</Macro>
